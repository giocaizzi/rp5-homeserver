# Redis Configuration for Langfuse
# Optimized for Raspberry Pi 5 ARM64 (8GB RAM)
# Service memory limit: 128M

# =============================================================================
# Memory Configuration
# =============================================================================
maxmemory 96mb
maxmemory-policy allkeys-lru

# =============================================================================
# Authentication
# =============================================================================
# Password injected at runtime via entrypoint - placeholder replaced
requirepass REDIS_PASSWORD_PLACEHOLDER

# =============================================================================
# Persistence (minimal for cache use)
# =============================================================================
save ""
appendonly no

# =============================================================================
# Performance
# =============================================================================
tcp-keepalive 300
timeout 0

# =============================================================================
# Logging
# =============================================================================
loglevel notice

# =============================================================================
# Connections
# =============================================================================
maxclients 200

# =============================================================================
# Memory Optimization
# =============================================================================
activedefrag no
lazyfree-lazy-eviction yes
lazyfree-lazy-expire yes
